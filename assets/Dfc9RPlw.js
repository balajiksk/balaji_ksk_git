import{n as h,u as v,r as w,q as _,o as m,c as d,a,s as x,b as u,v as t,t as V,x as y}from"./DF7CFXmR.js";import{u as S,a as c}from"./CkdMLUOW.js";import{V as g}from"./BNCOf1RP.js";import"./DosFURG6.js";const N={class:"min-h-screen flex items-center justify-center bg-gray-100"},M={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},k=a("h2",{class:"text-2xl font-bold mb-5 text-center"},"Login",-1),B={class:"mb-4"},C={class:"mb-4"},F=a("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Login ",-1),T={key:0,class:"text-red-500 mt-4"},D=h({__name:"index",setup(U){const p=v(),{handleSubmit:f,handleReset:I}=S({validationSchema:{name(e){return(e==null?void 0:e.length)>=2?!0:"Name needs to be at least 2 characters."},password(e){return(e==null?void 0:e.length)>=6&&(e==null?void 0:e.length)<20?!0:"Password min length 6."}}}),o=c("name"),n=c("password"),l=w(""),i=f(e=>{b(e.name,e.password)});o.value.value="emilys",n.value.value="emilyspass";async function b(e,s){(await p.signIn({username:e,password:s})).message?(await _("/profile",{replace:!0}),errormessage.value=""):(l.value="Invalid Credentials.",setTimeout(()=>{errormessage.value=""},3e3))}return(e,s)=>(m(),d("div",N,[a("div",M,[k,a("form",{onSubmit:s[2]||(s[2]=x((...r)=>t(i)&&t(i)(...r),["prevent"]))},[a("div",B,[u(g,{modelValue:t(o).value.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t(o).value.value=r),"error-messages":t(o).errorMessage.value,label:"Name"},null,8,["modelValue","error-messages"])]),a("div",C,[u(g,{modelValue:t(n).value.value,"onUpdate:modelValue":s[1]||(s[1]=r=>t(n).value.value=r),counter:"20","error-messages":t(n).errorMessage.value,label:"Password"},null,8,["modelValue","error-messages"])]),F],32),l.value?(m(),d("p",T,V(l.value),1)):y("",!0)])]))}});export{D as default};
