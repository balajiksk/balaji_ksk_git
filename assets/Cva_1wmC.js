import{n as h,u as v,r as w,q as _,o as m,c as d,a as o,s as x,b as u,v as t,t as V,x as y}from"./DRKv5qlN.js";import{u as S,a as c}from"./U-7ZDW98.js";import{V as p}from"./Dw0wcmCv.js";import"./CzBzpqX4.js";const N={class:"min-h-screen flex items-center justify-center bg-gray-100"},M={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},k=o("h2",{class:"text-2xl font-bold mb-5 text-center"},"Login",-1),B={class:"mb-4"},C={class:"mb-4"},F=o("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Login ",-1),T={key:0,class:"text-red-500 mt-4"},D=h({__name:"index",setup(U){const g=v(),{handleSubmit:f,handleReset:I}=S({validationSchema:{name(e){return(e==null?void 0:e.length)>=2?!0:"Name needs to be at least 2 characters."},password(e){return(e==null?void 0:e.length)>=6&&(e==null?void 0:e.length)<20?!0:"Password min length 6."}}}),r=c("name"),n=c("password"),l=w(""),i=f(e=>{b(e.name,e.password)});r.value.value="emilys",n.value.value="emilyspass";async function b(e,s){(await g.signIn({username:e,password:s})).message?await _("/profile",{replace:!0}):(l.value="Invalid Credentials.",setTimeout(()=>{errormessage.value=""},3e3))}return(e,s)=>(m(),d("div",N,[o("div",M,[k,o("form",{onSubmit:s[2]||(s[2]=x((...a)=>t(i)&&t(i)(...a),["prevent"]))},[o("div",B,[u(p,{modelValue:t(r).value.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t(r).value.value=a),"error-messages":t(r).errorMessage.value,label:"Name"},null,8,["modelValue","error-messages"])]),o("div",C,[u(p,{modelValue:t(n).value.value,"onUpdate:modelValue":s[1]||(s[1]=a=>t(n).value.value=a),counter:"20","error-messages":t(n).errorMessage.value,label:"Password"},null,8,["modelValue","error-messages"])]),F],32),l.value?(m(),d("p",T,V(l.value),1)):y("",!0)])]))}});export{D as default};
