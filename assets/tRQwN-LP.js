import{n as h,u as v,r as w,q as _,o as d,c as m,a as o,s as x,b as u,v as t,t as V,x as y}from"./t-DhNfEi.js";import{u as S,a as c}from"./-y8ZBgOI.js";import{V as p}from"./D5HyAhm9.js";import"./D8Kj-8x5.js";const N={class:"min-h-screen flex items-center justify-center bg-gray-100"},M={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-md"},k=o("h2",{class:"text-2xl font-bold mb-5 text-center"},"Login",-1),B={class:"mb-4"},C={class:"mb-4"},F=o("button",{type:"submit",class:"w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors"}," Login ",-1),T={key:0,class:"text-red-500 mt-4"},D=h({__name:"index",setup(U){const g=v(),{handleSubmit:f,handleReset:I}=S({validationSchema:{name(e){return(e==null?void 0:e.length)>=2?!0:"Name needs to be at least 2 characters."},password(e){return(e==null?void 0:e.length)>=6&&(e==null?void 0:e.length)<20?!0:"Password min length 6."}}}),n=c("name"),l=c("password"),r=w(""),i=f(e=>{b(e.name,e.password)});n.value.value="emilys",l.value.value="emilyspass";async function b(e,s){(await g.signIn({username:e,password:s})).message?(r.value="",await _("/profile",{replace:!0})):(r.value="Invalid Credentials.",setTimeout(()=>{r.value=""},3e3))}return(e,s)=>(d(),m("div",N,[o("div",M,[k,o("form",{onSubmit:s[2]||(s[2]=x((...a)=>t(i)&&t(i)(...a),["prevent"]))},[o("div",B,[u(p,{modelValue:t(n).value.value,"onUpdate:modelValue":s[0]||(s[0]=a=>t(n).value.value=a),"error-messages":t(n).errorMessage.value,label:"Name"},null,8,["modelValue","error-messages"])]),o("div",C,[u(p,{modelValue:t(l).value.value,"onUpdate:modelValue":s[1]||(s[1]=a=>t(l).value.value=a),counter:"20","error-messages":t(l).errorMessage.value,label:"Password"},null,8,["modelValue","error-messages"])]),F],32),r.value?(d(),m("p",T,V(r.value),1)):y("",!0)])]))}});export{D as default};
